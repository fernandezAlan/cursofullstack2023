<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form>
        <input type="email" placeholder="email" id="email">
        <input type="password" placeholder="password" id="password">
        <button>enviar</button>
    </form>



    <script>
        const form = document.querySelector('form')
        const email = document.getElementById('email')
        const password = document.getElementById('password')

        form.addEventListener('submit',async (event)=>{
            event.preventDefault()
            const data = await fetch('http://localhost:3000/user/login',{
                method:'POST',
                body:JSON.stringify({
                    email:email.value,
                    password:password.value
                }),
                headers:{
                    "Content-Type": "application/json",
                }
            })

            const token = await data.text() 
            localStorage.setItem('token',token)
            
        })

    </script>
</body>
</html>